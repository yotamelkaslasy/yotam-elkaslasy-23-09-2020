(this.webpackJsonpherolo=this.webpackJsonpherolo||[]).push([[0],{20:function(e,t,a){e.exports=a(37)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(10),c=a.n(r),m=a(8),i=a(1),o=a(7),s=a(6),d=a(40);function u(){return{data:{list:new Map,sum:{amazon:0,ebay:0}},saveItem:function(e){this.data.list.set(Object(d.a)(),e),console.log(this.data.list)},calcAggregatedSum:function(e){this.data.sum[e]=Array.from(this.data.list.entries()).filter((function(t){return Object(s.a)(t,2)[1].onlineStore===e})).reduce((function(e,t){return e+Object(s.a)(t,2)[1].price}),0)},markReceived:function(e){this.data.list.get(e).isReceived=!0},get receivedItems(){return Array.from(this.data.list.entries()).filter((function(e){return Object(s.a)(e,2)[1].isReceived}))}}}var v=Object(l.createContext)(),E=function(e){var t=e.children,a=Object(o.b)(u);return n.a.createElement(v.Provider,{value:a},t)},b=a(41),p={amazon:0,ebay:1},N=function(){var e=Object(l.useContext)(v);if(!e)throw new Error("useStore must be used within a StoreProvider.");return e},_=(a(26),function(e){var t=e.primary,a=e.onClick,l=e.title,r=e.className,c=e.type,m=void 0===c?"button":c;return n.a.createElement("button",{type:m,className:"Button ".concat(r),onClick:a,style:{background:!t&&"#ccc"}},l)}),f=a(16),I=(a(27),{name:"",onlineStore:Object.keys(p)[0],price:0,deliveryDate:"",isReceived:!1}),h=Object(o.a)((function(e){var t=e.visible,a=e.closeModalHandler,r=Object(l.createRef)(),c=N(),m=Object(o.b)((function(){return{newItem:Object(f.a)({},I),isFormValid:!1}})),i=function(e){m.newItem[e.target.name]="price"===e.target.name?parseFloat(e.target.value):e.target.value};return t?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"AddItemModal-Backdrop",onClick:a}),n.a.createElement("div",{className:"AddItemModal"},n.a.createElement("div",{className:"AddItemModal__Title"},"Add Item"),n.a.createElement("div",{className:"AddItemModal__Description"},"Fill out the form to add item to list."),n.a.createElement("form",{ref:r,className:"AddItemModal__FormWrap"},n.a.createElement("div",{className:"AddItemModal__FormWrap__FormItem"},n.a.createElement("label",{className:"AddItemModal__FormWrap__FormItem-label",htmlFor:"itemName"},"Item Name"),n.a.createElement("input",{id:"itemName",type:"text",name:"name",value:m.newItem.name,onChange:i,className:"AddItemModal__FormWrap__FormItem-input",required:!0})),n.a.createElement("div",{className:"AddItemModal__FormWrap__FormItem"},n.a.createElement("label",{className:"AddItemModal__FormWrap__FormItem-label",htmlFor:"onlineStore"},"Select a Store"),n.a.createElement("select",{id:"onlineStore",name:"onlineStore",value:m.newItem.onlineStore,className:"AddItemModal__FormWrap__FormItem-select",onChange:function(e){m.newItem.onlineStore=e.target.value}},Object.entries(p).map((function(e){var t=Object(s.a)(e,2),a=t[0],l=t[1];return n.a.createElement("option",{key:"".concat(a,"-").concat(l),value:a},a)})))),n.a.createElement("div",{className:"AddItemModal__FormWrap__FormItem"},n.a.createElement("label",{className:"AddItemModal__FormWrap__FormItem-label",htmlFor:"price"},"Price (USD)"),n.a.createElement("input",{id:"price",type:"number",name:"price",value:m.newItem.price,onChange:i,placeholder:"Price (USD)",className:"AddItemModal__FormWrap__FormItem-input",required:!0})),n.a.createElement("div",{className:"AddItemModal__FormWrap__FormItem"},n.a.createElement("label",{className:"AddItemModal__FormWrap__FormItem-label",htmlFor:"deliveryDate"},"Est. Delivery Date"),n.a.createElement("input",{id:"deliveryDate",type:"date",name:"deliveryDate",value:m.newItem.deliveryDate,onChange:i,placeholder:"EST. Delivery Date",className:"AddItemModal__FormWrap__FormItem-input",required:!0}))),n.a.createElement("div",{className:"AddItemModal__ActionsWrap"},n.a.createElement(_,{primary:!0,title:"Save",className:"AddItemModal__ActionsWrap__SaveButton",onClick:function(){r.current.checkValidity()?(c.saveItem(m.newItem),m.newItem=Object(f.a)({},I),a()):r.current.reportValidity()}}),n.a.createElement(_,{title:"Cancel",onClick:function(){a()}})))):null})),y=function(e){var t=e.onclick;return e.visible?n.a.createElement(_,{primary:!0,title:"Add Item",className:"AddItemModalButton",onClick:t}):null},C=(a(28),Object(o.a)((function(){var e=N(),t=Object(o.b)((function(){return{isModalVisible:!1,selectedTab:"items",selectTab:function(e){t.selectedTab=e},openModal:function(){t.isModalVisible=!0},closeModal:function(){t.isModalVisible=!1}}}));Object(l.useEffect)((function(){e.calcAggregatedSum("amazon"),e.calcAggregatedSum("ebay")}));var a="/list"===Object(i.g)().pathname,r="items"===t.selectedTab,c="stores"===t.selectedTab;return n.a.createElement("section",{className:"List"},n.a.createElement("header",{className:"List__Header"},n.a.createElement("ul",null,n.a.createElement("li",{onClick:function(){return t.selectTab("items")},className:"".concat(r?"selected":"")},"Bought items"),n.a.createElement("li",{onClick:function(){return t.selectTab("stores")},className:"".concat(c?"selected":"")},"Stores list"))),r&&n.a.createElement("section",{className:"BoughtItemList"},n.a.createElement("div",{className:"HeaderRow"},n.a.createElement("div",{className:"Col"},"#"),n.a.createElement("div",{className:"Col"},"Item Name"),n.a.createElement("div",{className:"Col"},"Online Store"),n.a.createElement("div",{className:"Col"},"Price (USD)"),n.a.createElement("div",{className:"Col"},"Est. Delivery Date"),n.a.createElement("div",{className:"Col"},"Action")),0===e.data.list.size&&n.a.createElement("div",{style:{position:"absolute",top:" 50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"}},"No items : ( ",n.a.createElement("br",null)," Please add items to the cart via the add button below."),Array.from(e.data.list.entries()).sort((function(e,t){var a=Object(s.a)(e,2)[1],l=Object(s.a)(t,2)[1];return b.a(new Date(a.deliveryDate),new Date(l.deliveryDate))})).map((function(t,a){var l=Object(s.a)(t,2),r=l[0],c=l[1];return n.a.createElement("div",{key:r,className:"Row",style:{display:c.isReceived?"none":"flex"}},n.a.createElement("div",{className:"Col"},a),n.a.createElement("div",{className:"Col"},c.name),n.a.createElement("div",{className:"Col"},c.onlineStore),n.a.createElement("div",{className:"Col"},"$",c.price),n.a.createElement("div",{className:"Col"},c.deliveryDate),n.a.createElement("div",{className:"Col"},n.a.createElement(_,{title:"Mark Received",primary:!0,onClick:function(){return e.markReceived(r)},className:"MarkReceivedButton"})))}))),c&&n.a.createElement("section",{className:"ReceivedItems"},n.a.createElement("div",{className:"HeaderRow"},n.a.createElement("div",{className:"Col"},"#"),n.a.createElement("div",{className:"Col"},"Store Name"),n.a.createElement("div",{className:"Col"},"Sum")),Object.entries(p).map((function(t,a){var l=Object(s.a)(t,2),r=l[0];l[1];return n.a.createElement("div",{key:r,className:"Row"},n.a.createElement("div",{className:"Col"},a),n.a.createElement("div",{className:"Col"},r),n.a.createElement("div",{className:"Col"},"$",e.data.sum[r]))}))),n.a.createElement(y,{visible:!t.isModalVisible&&a,onclick:function(){return t.openModal()}}),n.a.createElement(h,{visible:t.isModalVisible,closeModalHandler:t.closeModal}))}))),M=(a(33),function(){return n.a.createElement("section",{className:"Received"},n.a.createElement("h1",null,"Received"))}),A=(a(34),function(){return n.a.createElement("aside",{className:"Sidebar"},n.a.createElement("nav",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(m.b,{to:"/list",activeClassName:"active"},"List")),n.a.createElement("li",null,n.a.createElement(m.b,{to:"/received",activeClassName:"active"},"Received")))))});a(35);var F=function(){return n.a.createElement(E,null,n.a.createElement(m.a,{basename:"/yotam-elkaslasy-23-09-2020"},n.a.createElement("div",{className:"App"},n.a.createElement(A,null),n.a.createElement("main",{className:"Wrapper"},n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/"},n.a.createElement(i.a,{to:"/list"})),n.a.createElement(i.b,{exact:!0,path:"/list"},n.a.createElement(C,null)),n.a.createElement(i.b,{exact:!0,path:"/received"},n.a.createElement(M,null)),n.a.createElement(i.b,{path:"*"},n.a.createElement(i.a,{to:"/list"})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(36);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.44b220a6.chunk.js.map